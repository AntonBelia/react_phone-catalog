(this["webpackJsonpreact_phone-catalog"]=this["webpackJsonpreact_phone-catalog"]||[]).push([[0],[,,,,,,,,,,,,function(e,t,c){},,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,c){},,function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},,,function(e,t,c){"use strict";c.r(t);var s=c(14),a=c.n(s),r=c(8),n=c(23),i=c(5),o=c(3),l=c(1),d=c(7),j=c.n(d);const b=()=>Object(r.d)(),u=r.e,m=e=>e.reduce(((e,t)=>e+t.quantity),0),_=e=>e.reduce(((e,t)=>e+t.quantity*t.product.price),0);c(39);var O=c(0);const h=e=>{let{isActive:t}=e;return j()("Nav__link",{"Nav__link--is-active":t})},p=()=>Object(O.jsxs)("nav",{className:"Nav",children:[Object(O.jsx)(i.c,{to:"/",className:h,children:"Home"}),Object(O.jsx)(i.c,{to:"/phones",className:h,children:"Phones"}),Object(O.jsx)(i.c,{to:"/tablets",className:h,children:"Tablets"}),Object(O.jsx)(i.c,{to:"/accessories",className:h,children:"Accessories"})]});var x=c(24),g=c.n(x);c(41);const N=()=>{const[e,t]=Object(l.useState)(""),[c,s]=Object(i.d)(),a=c.get("query")||"",r=Object(o.n)().pathname.replace("/","");Object(l.useEffect)((()=>{t(a)}),[r]);const n=()=>{t(""),c.delete("query"),s(c)},d=Object(l.useCallback)(g()((e=>{c.set("query",e),""===e&&n(),s(c)}),1e3),[r]);return Object(O.jsxs)("div",{className:"Search",children:[Object(O.jsx)("input",{type:"text",className:"Search__input",placeholder:"Search in ".concat(r,"..."),value:e,onChange:e=>{t(e.target.value),d(e.target.value)}}),Object(O.jsx)("button",{"data-cy":"searchDelete",type:"button",className:j()("Search__button",{"Search__button--delete":!!a}),onClick:n,disabled:!a})]})};c(42);const v=e=>{let{isActive:t}=e;return j()("Header__link",{"Header__link--is-active":t})},P=()=>{const{favorites:e}=u((e=>e.favorites)),{cart:t}=u((e=>e.cart)),[c,s]=Object(l.useState)(!1),a=Object(o.n)().pathname;Object(l.useEffect)((()=>{s("/phones"===a||"/tablets"===a||"/accessories"===a||"/favorites"===a)}),[a]);return Object(O.jsxs)("header",{className:"Header",children:[Object(O.jsxs)("div",{className:"Header__left",children:[Object(O.jsx)(i.b,{to:"/",className:"Header__logo",onClick:()=>{window.scrollTo({top:0,behavior:"smooth"})}}),"/cart"!==a&&Object(O.jsx)(p,{})]}),Object(O.jsxs)("div",{className:"Header__right",children:[c&&Object(O.jsx)(N,{}),"/cart"!==a&&Object(O.jsx)("div",{className:"Header__link-wrapper",children:Object(O.jsx)(i.c,{to:"/favorites",className:v,children:!!e.length&&Object(O.jsx)("p",{className:"Header__count",children:e.length})})}),Object(O.jsx)("div",{className:"Header__link-wrapper Header__link-wrapper--cart",children:Object(O.jsx)(i.c,{to:"/cart",className:v,children:!!t.length&&Object(O.jsx)("p",{className:"Header__count",children:m(t)})})})]})]})},f=()=>{window.scrollTo({top:0,behavior:"smooth"})};c(43);const y=()=>Object(O.jsx)("footer",{className:"Footer",children:Object(O.jsxs)("div",{className:"Footer__content",children:[Object(O.jsx)(i.b,{to:"/",className:"Footer__logo",onClick:f}),Object(O.jsxs)("div",{className:"Footer__links",children:[Object(O.jsx)(i.b,{className:"Footer__link",to:"https://github.com/AntonBelia",target:"_blank",rel:"noopener noreferrer",children:"Github"}),Object(O.jsx)(i.b,{className:"Footer__link",to:"/",children:"Contacts"}),Object(O.jsx)(i.b,{className:"Footer__link",to:"/",children:"Rights"}),Object(O.jsxs)("div",{className:"Footer__to-top",children:[Object(O.jsx)("p",{className:"Footer__to-top-text",children:"Back to top"}),Object(O.jsx)("button",{type:"button",className:"Footer__to-top-link",onClick:f})]})]})]})});c(44);const C=()=>Object(O.jsxs)("div",{className:"App",children:[Object(O.jsx)(P,{}),Object(O.jsxs)("div",{className:"App__container",children:[Object(O.jsx)(o.a,{}),Object(O.jsx)(y,{})]})]});var w=c(25),k=c(9);const I=Object(w.a)({reducerPath:"productsApi",baseQuery:Object(k.d)({baseUrl:"https://mate-academy.github.io/react_phone-catalog/_new"}),endpoints:e=>({getProducts:e.query({query:()=>"/products.json"}),getProductDetails:e.query({query:e=>"/products/".concat(e,".json")})})}),{useGetProductsQuery:D,useGetProductDetailsQuery:S}=I;var L=c(26),B=c.n(L);const A=e=>e.fullPrice-e.price,F=e=>e.fullPrice>e.price,E=()=>{const[e,t]=Object(l.useState)({width:window.innerWidth,height:window.innerHeight});return Object(l.useEffect)((()=>{const e=()=>{t({width:window.innerWidth,height:window.innerHeight})};return window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}}),[]),e},q=e=>e.charAt(0).toUpperCase()+e.slice(1,e.length);var H=c(4);const T=Object(H.e)({name:"cart",initialState:{cart:[]},reducers:{addToCart:(e,t)=>{e.cart.push({phoneId:t.payload.phoneId,quantity:1,product:t.payload})},removeFromCart:(e,t)=>{e.cart=e.cart.filter((e=>e.phoneId!==t.payload))},decreaseAmount:(e,t)=>{const c=e.cart.findIndex((e=>e.phoneId===t.payload));e.cart[c].quantity-=1},increaseAmount:(e,t)=>{const c=e.cart.findIndex((e=>e.phoneId===t.payload));e.cart[c].quantity+=1}}}),{addToCart:M,removeFromCart:$,decreaseAmount:z,increaseAmount:Q}=T.actions;var R=T.reducer;const V=Object(H.e)({name:"favorites",initialState:{favorites:[]},reducers:{addToFavorites:(e,t)=>{e.favorites.push(t.payload)},removeFromFavorites:(e,t)=>{e.favorites=e.favorites.filter((e=>e.phoneId!==t.payload))}}}),{addToFavorites:G,removeFromFavorites:U}=V.actions;var W=V.reducer;c(45);const J=e=>{let{product:t}=e;const c=b(),{favorites:s}=u((e=>e.favorites)),{cart:a}=u((e=>e.cart)),r=()=>s.some((e=>e.phoneId===t.phoneId)),n=()=>a.some((e=>e.phoneId===t.phoneId));return Object(O.jsxs)("div",{className:"ProductAdd",children:[Object(O.jsx)("button",{type:"button",className:j()("ProductAdd__cart",{"ProductAdd__cart--selected":n()}),onClick:()=>{n()||c(M(t))},disabled:n(),children:n()?Object(O.jsx)("p",{children:"Added to cart"}):Object(O.jsx)("p",{children:"Add to cart"})}),Object(O.jsx)("button",{"data-cy":"addToFavorite",type:"button",className:j()("ProductAdd__favorites",{"ProductAdd__favorites--selected":r()}),onClick:()=>{const e=r();c(e?U(t.phoneId):G(t))}})]})};c(46);const X=e=>{let{product:t}=e;const{phoneId:c,image:s,name:a,price:r,fullPrice:n,screen:o,capacity:l,ram:d}=t,b={screen:o,capacity:l,ram:d};return Object(O.jsxs)("div",{className:"ProductCard","data-cy":"cardsContainer",children:[Object(O.jsxs)(i.b,{to:"/product/".concat(c),className:"ProductCard__content",onClick:f,children:[Object(O.jsx)("img",{src:s,alt:a,className:"ProductCard__image"}),Object(O.jsx)("p",{className:"ProductCard__name",children:a}),Object(O.jsxs)("div",{className:"ProductCard__prices",children:[F(t)&&Object(O.jsx)("p",{className:"ProductCard__price",children:"$".concat(r)}),Object(O.jsx)("p",{className:j()("ProductCard__price",{"ProductCard__price--discount":F(t)}),children:"$".concat(n)})]}),Object(O.jsx)("div",{className:"ProductCard__divider"}),Object(O.jsx)("div",{className:"ProductCard__info",children:Object.entries(b).map((e=>{let[t,c]=e;return Object(O.jsxs)("div",{className:"ProductCard__field",children:[Object(O.jsx)("p",{className:"ProductCard__field-key",children:q(t)}),Object(O.jsx)("p",{className:"ProductCard__field-value",children:c||"-"})]},t)}))})]}),Object(O.jsx)(J,{product:t})]})};c(47);const Y=284,K=e=>{let{products:t}=e;const[c,s]=Object(l.useState)(0),[a,r]=Object(l.useState)(!0),[n,i]=Object(l.useState)(!1),[o,d]=Object(l.useState)(4),b=E(),u=Object(l.useMemo)((()=>t.length),[t]);Object(l.useEffect)((()=>{b.width<600?d(1):b.width<900?d(2):b.width<1176?d(3):d(4)}),[b.width]);return Object(O.jsxs)("div",{className:"ProductsSlider",children:[Object(O.jsxs)("div",{className:"ProductsSlider__buttons",children:[Object(O.jsx)("button",{type:"button",className:j()("ProductsSlider__button ProductsSlider__button--prev",{"ProductsSlider__button--disabled":a}),onClick:()=>{s((e=>{i(!1);const t=-e/Y;return t-o<=0?(r(!0),e+Y*t):e+Y*o}))},disabled:a}),Object(O.jsx)("button",{type:"button",className:j()("ProductsSlider__button",{"ProductsSlider__button--disabled":n}),onClick:()=>{s((e=>{r(!1);const t=-e/Y+o-1;return t+o>=u-1?(i(!0),e-Y*(u-1-t)):e-Y*o}))},disabled:n})]}),Object(O.jsx)("div",{className:"ProductsSlider__wrapper",style:{width:"".concat(Y*o,"px")},children:Object(O.jsx)("ul",{className:"ProductsSlider__list",style:{width:"".concat(Y*u,"px")},children:t.map((e=>Object(O.jsx)("li",{className:"ProductsSlider__item",style:{width:"".concat(268,"px"),transform:"translateX(".concat(c,"px)")},children:Object(O.jsx)(X,{product:e})},e.id)))})})]})};c(48);const Z=["img/banners/banner-phones.png","img/banners/banner-tablets.png","img/banners/banner-accessories.png"],ee=()=>{const[e,t]=Object(l.useState)(1040),[c,s]=Object(l.useState)(0),a=E();Object(l.useEffect)((()=>{a.width<1176?t(a.width-136):t(1040)}),[a.width]);let r=0;const n=()=>{s((t=>t===-e*(Z.length-1)?0:t-e))};Object(l.useEffect)((()=>(r=window.setInterval((()=>{n()}),5e3),()=>clearInterval(r))));return Object(O.jsxs)("div",{className:"Banners",children:[Object(O.jsx)("button",{type:"button",className:"Banners__button Banners__button--left",onClick:()=>{clearInterval(r),s((t=>0===t?t-e*(Z.length-1):t+e))}}),Object(O.jsx)("div",{className:"Banners__wrapper",style:{width:"".concat(e,"px")},children:Object(O.jsx)("ul",{className:"Banners__list",style:{width:"".concat(e*Z.length,"px")},children:Z.map(((t,s)=>Object(O.jsx)("li",{className:"Banners__item",style:{width:"".concat(e,"px"),transform:"translateX(".concat(c,"px)")},children:Object(O.jsx)("img",{src:t,alt:"Banner ".concat(s+1),className:"Banners__banner"})},t)))})}),Object(O.jsx)("button",{type:"button",className:"Banners__button",onClick:()=>{clearInterval(r),n()}}),Object(O.jsx)("div",{className:"Banners__dots",children:Z.map(((t,a)=>Object(O.jsx)("button",{type:"button",className:"Banners__dot-link",onClick:()=>(t=>{clearInterval(r),s(-t*e)})(a),children:Object(O.jsx)("div",{className:j()("Banners__dot",{"Banners__dot--active":a===-c/e})})},t)))})]})};c(49),c(50);const te=e=>{let{name:t,title:c,amount:s}=e;return Object(O.jsxs)(i.b,{to:"/".concat(t),className:"CategoryItem",children:[Object(O.jsx)("img",{src:"img/category/category-".concat(t,".png"),alt:"Category ".concat(t),className:"CategoryItem__image"}),Object(O.jsxs)("div",{className:"CategoryItem__info",children:[Object(O.jsx)("h3",{className:"CategoryItem__title",children:c}),Object(O.jsx)("p",{className:"CategoryItem__count",children:"".concat(s," models")})]})]})},ce=e=>{let{products:t}=e;const c=e=>t.filter((t=>t.category===e)).length;return Object(O.jsxs)("ul",{"data-cy":"categoryLinksContainer",className:"CategoriesList",children:[Object(O.jsx)("li",{className:"CategoriesList__item",children:Object(O.jsx)(te,{name:"phones",title:"Mobile phones",amount:c("phones")})}),Object(O.jsx)("li",{className:"CategoriesList__item",children:Object(O.jsx)(te,{name:"tablets",title:"Tablets",amount:c("tablets")})}),Object(O.jsx)("li",{className:"CategoriesList__item",children:Object(O.jsx)(te,{name:"accessories",title:"Accessories",amount:c("accessories")})})]})};c(51);const se=()=>Object(O.jsx)("div",{className:"Loader","data-cy":"loader",children:Object(O.jsx)("div",{className:"Loader__content"})});c(12);const ae=()=>{const{data:e,isLoading:t}=D(),[c,s]=Object(l.useState)([]),[a,r]=Object(l.useState)([]);return Object(l.useEffect)((()=>{e&&(s((e=>e.filter((e=>F(e))).sort(((e,t)=>A(t)-A(e))).slice(0,8))(e)),r((e=>[...e].sort(((e,t)=>t.year-e.year)).slice(0,8))(e)))}),[e]),Object(O.jsxs)("div",{className:"Page Page--gap--wider Page--padding--top--wider",children:[Object(O.jsx)(ee,{}),Object(O.jsxs)("section",{className:"Page__section hot-prices",children:[Object(O.jsx)("h1",{className:"Page__title",children:"Hot prices"}),t?Object(O.jsx)(se,{}):Object(O.jsx)(K,{products:c})]}),Object(O.jsxs)("section",{className:"Page__section shop-by-category",children:[Object(O.jsx)("h1",{className:"Page__title",children:"Shop by category"}),!!e&&Object(O.jsx)(ce,{products:e})]}),Object(O.jsxs)("section",{className:"Page__section brand-new",children:[Object(O.jsx)("h1",{className:"Page__title Page__title--long",children:"Brand new models"}),t?Object(O.jsx)(se,{}):Object(O.jsx)(K,{products:a})]})]})};c(52);const re=e=>{let{totalItems:t,onPage:c}=e;const[s,a]=Object(l.useState)([]),[r,n]=Object(l.useState)(7),o=E(),[d,b]=Object(i.d)(),u=d.get("page"),m=Object(l.useMemo)((()=>Math.ceil(t/c)||1),[t,c]),_=Object(l.useMemo)((()=>function(e,t){const c=[];for(let s=e;s<=t;s+=1)c.push(s);return c}(1,m)),[m]),h=Object(l.useMemo)((()=>Number(u)||1),[u]),p=Object(l.useMemo)((()=>1===h),[h]),x=Object(l.useMemo)((()=>h===m),[h,m]);Object(l.useEffect)((()=>{o.width<576?n(3):o.width<1024?n(5):n(7)}),[o.width]),Object(l.useEffect)((()=>{const e=Math.floor(r/2);a(h<=e?_.slice(0,r):m-h<e?_.slice(m-r,m):_.slice(h-e-1,h+e))}),[h,r]);const g=()=>{window.scrollTo({top:0,behavior:"smooth"})};return Object(O.jsxs)("ul",{"data-cy":"pagination",className:"Pagination",children:[Object(O.jsx)("li",{className:"Pagination__item",children:Object(O.jsx)("button",{"data-cy":"paginationLeft",type:"button",className:j()("Pagination__arrow Pagination__arrow--prev",{"Pagination__arrow--disabled":p}),onClick:()=>{p||(d.set("page",(h-1).toString()),b(d)),g()},disabled:p})}),_.map((e=>Object(O.jsx)("li",{className:"Pagination__item",style:{display:s.includes(e)?"block":"none"},children:Object(O.jsx)("button",{type:"button",className:j()("Pagination__link",{"Pagination__link--active":e===h}),onClick:()=>{return t=e,d.set("page",t.toString()),b(d),void g();var t},children:e})},e))),Object(O.jsx)("li",{className:"Pagination__item",children:Object(O.jsx)("button",{"data-cy":"paginationRight",type:"button",className:j()("Pagination__arrow",{"Pagination__arrow--disabled":x}),onClick:()=>{x||(d.set("page",(h+1).toString()),b(d)),g()},disabled:x})})]})};c(53);var ne=c.p+"static/media/icon_vector_disabled.2a072ff1.svg";const ie=e=>{let{parameterOptions:t,currentOptionName:c,onChange:s}=e;const[a,r]=Object(l.useState)(!1);Object(l.useEffect)((()=>{if(!a)return;const e=()=>{r(!1)};return document.addEventListener("click",e),()=>{document.removeEventListener("click",e)}}),[a]);return Object(O.jsxs)("div",{className:"Dropdown",children:[Object(O.jsxs)("button",{type:"button",className:j()("Dropdown__button",{"Dropdown__button--active":a}),onClick:()=>{r(!a)},children:[Object(O.jsx)("span",{className:"Dropdown__text",children:(e=>{const c=t.find((t=>t.name===e));return null===c||void 0===c?void 0:c.alias})(c)}),Object(O.jsx)("img",{src:ne,alt:"Vector Icon",className:j()("Dropdown__arrow",{"Dropdown__arrow--active":a})})]}),a&&Object(O.jsx)("div",{className:"Dropdown__content",children:t.map((e=>Object(O.jsx)("button",{type:"button",className:"Dropdown__item",onClick:()=>{return t=e.name,s(t),void r(!1);var t},children:e.alias},e.name)))})]})};c(54);const oe=()=>Object(O.jsx)("p",{className:"NoSearchResults",children:"Sorry, no matching results"});c(55);const le=[{name:"age",alias:"Newest"},{name:"name",alias:"Alphabetically"},{name:"price",alias:"Cheapest"}],de=[{name:"all",alias:"All"},{name:"4",alias:"4"},{name:"8",alias:"8"},{name:"16",alias:"16"}],je=e=>{let{products:t}=e;const[c,s]=Object(l.useState)([]),a=Object(o.n)().pathname,[r,n]=Object(i.d)(),d=r.get("sort")||"age",j=r.get("query")||"",b=r.get("page")||"1",u=r.get("perPage")||"8",m=Object(l.useMemo)((()=>((e,t,c)=>{let s=[...e];if(c){const e=c.toLowerCase();s=s.filter((t=>t.name.toLowerCase().includes(e)))}switch(t){case"age":s.sort(((e,t)=>t.year-e.year));break;case"price":s.sort(((e,t)=>e.price-t.price));break;case"name":s.sort(((e,t)=>e.name.localeCompare(t.name)));break;default:throw new Error("Unknown sort parameter!")}return s})(t,d,j)),[t,d,j]),{length:_}=m;Object(l.useEffect)((()=>{if("all"!==u){const e=(+b-1)*+u+1,t=Math.min(+b*+u,_);s(m.slice(e-1,t))}else s([...m])}),[m,b,u]);return Object(O.jsxs)("div",{className:"ProductsList",children:["/favorites"!==a&&_>1&&Object(O.jsxs)("div",{className:"ProductsList__selections",children:[Object(O.jsxs)("div",{className:"ProductsList__select",children:[Object(O.jsx)("p",{className:"ProductsList__label",children:"Sort by"}),Object(O.jsx)(ie,{parameterOptions:le,currentOptionName:d,onChange:e=>{r.set("sort",e),n(r)}})]}),_>4&&Object(O.jsxs)("div",{className:"ProductsList__select ProductsList__select--narrow",children:[Object(O.jsx)("p",{className:"ProductsList__label",children:"Items on page"}),Object(O.jsx)(ie,{parameterOptions:de,currentOptionName:u,onChange:e=>{r.set("perPage",e),r.set("page","1"),n(r)}})]})]}),!!j&&!!_&&Object(O.jsx)("p",{className:"ProductsList__search-count",children:"".concat(_," result").concat(_>1?"s":"")}),!_&&Object(O.jsx)(oe,{}),Object(O.jsx)("ul",{className:"ProductsList__content","data-cy":"productList",children:c.map((e=>Object(O.jsx)("li",{className:"ProductsList__item",children:Object(O.jsx)(X,{product:e})},e.id)))}),"all"!==u&&_>+u&&Object(O.jsx)("div",{className:"ProductsList__pagination",children:Object(O.jsx)(re,{totalItems:_,onPage:+u})})]})};c(56);const be=e=>{let{categoryName:t}=e;return Object(O.jsx)("p",{className:"NoResults",children:"".concat(t," not found")})};c(57);var ue=c.p+"static/media/icon_home.d4c29e4f.svg";const me=()=>{const[e,t]=Object(l.useState)(""),[c,s]=Object(l.useState)(),a=Object(o.n)(),{productId:r}=Object(o.r)(),{data:n}=D();return Object(l.useEffect)((()=>{n&&r&&s(n.find((e=>e.phoneId===r)))}),[r,n]),Object(l.useEffect)((()=>{r?c&&t(c.category):t(a.pathname.slice(1,a.pathname.length))}),[a.pathname,c]),Object(O.jsxs)("div",{"data-cy":"breadCrumbs",className:"Breadcrumbs",children:[Object(O.jsx)(i.b,{to:"/",className:"Breadcrumbs__link",children:Object(O.jsx)("img",{src:ue,alt:"Home Icon"})}),Object(O.jsx)("img",{src:ne,alt:"Vector Icon"}),r?Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(i.b,{to:"/".concat(e),className:"Breadcrumbs__link",children:Object(O.jsx)("p",{className:"Breadcrumbs__folder",children:q(e)})}),Object(O.jsx)("img",{src:ne,alt:"Vector Icon"}),Object(O.jsx)("p",{className:"Breadcrumbs__folder",children:null===c||void 0===c?void 0:c.name})]}):Object(O.jsx)("p",{className:"Breadcrumbs__folder",children:q(e)})]})},_e=()=>{const{data:e,isLoading:t}=D(),[c,s]=Object(l.useState)([]),[a]=Object(i.d)(),r=a.get("query")||"";return Object(l.useEffect)((()=>{e&&s(e.filter((e=>"phones"===e.category)))}),[e]),Object(O.jsxs)("div",{className:"Page",children:[!r&&Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(me,{}),Object(O.jsxs)("div",{className:"Page__top",children:[Object(O.jsx)("h1",{className:"Page__title",children:"Mobile Phones"}),Object(O.jsx)("p",{className:"Page__amount",children:"".concat(c.length," models")})]})]}),t&&Object(O.jsx)(se,{}),t||c.length?Object(O.jsx)(je,{products:c}):Object(O.jsx)(be,{categoryName:"Mobile phones"})]})},Oe=()=>{const{data:e,isLoading:t}=D(),[c,s]=Object(l.useState)([]),[a]=Object(i.d)(),r=a.get("query")||"";return Object(l.useEffect)((()=>{e&&s(e.filter((e=>"tablets"===e.category)))}),[e]),Object(O.jsxs)("div",{className:"Page",children:[!r&&Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(me,{}),Object(O.jsxs)("div",{className:"Page__top",children:[Object(O.jsx)("h1",{className:"Page__title",children:"Tablets"}),Object(O.jsx)("p",{className:"Page__amount",children:"".concat(c.length," models")})]})]}),t&&Object(O.jsx)(se,{}),t||c.length?Object(O.jsx)(je,{products:c}):Object(O.jsx)(be,{categoryName:"Tablets"})]})},he=()=>{const{data:e,isLoading:t}=D(),[c,s]=Object(l.useState)([]),[a]=Object(i.d)(),r=a.get("query")||"";return Object(l.useEffect)((()=>{e&&s(e.filter((e=>"accessories"===e.category)))}),[e]),Object(O.jsxs)("div",{className:"Page",children:[!r&&Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(me,{}),Object(O.jsxs)("div",{className:"Page__top",children:[Object(O.jsx)("h1",{className:"Page__title",children:"Accessories"}),Object(O.jsx)("p",{className:"Page__amount",children:"".concat(c.length," models")})]})]}),t&&Object(O.jsx)(se,{}),t||c.length?Object(O.jsx)(je,{products:c}):Object(O.jsx)(be,{categoryName:"Accessories"})]})},pe=()=>{const{favorites:e}=u((e=>e.favorites)),[t]=Object(i.d)(),c=t.get("query")||"";return Object(O.jsxs)("div",{className:"Page",children:[!c&&Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(me,{}),Object(O.jsxs)("div",{className:"Page__top",children:[Object(O.jsx)("h1",{className:"Page__title",children:"Favorites"}),Object(O.jsx)("p",{className:"Page__amount",children:"".concat(e.length," models")})]})]}),e.length?Object(O.jsx)(je,{products:e}):Object(O.jsx)(be,{categoryName:"Favorites"})]})};c(58);var xe=c.p+"static/media/icon_vector.2a072ff1.svg";const ge=()=>{const e=Object(o.p)();return Object(O.jsxs)("div",{className:"BackButton",children:[Object(O.jsx)("img",{src:xe,alt:"Vector Icon",className:"BackButton__vector"}),Object(O.jsx)("button",{"data-cy":"backButton",className:"BackButton__button",type:"button",onClick:()=>e(-1),children:"Back"})]})};c(59);const Ne=e=>{let{cartItem:t}=e;const c=b(),{quantity:s,product:a}=t;return Object(O.jsxs)("div",{className:"CartItemCard",children:[Object(O.jsxs)("div",{className:"CartItemCard__left",children:[Object(O.jsx)("button",{"data-cy":"cartDeleteButton",type:"button",className:"CartItemCard__delete",onClick:()=>{c($(a.phoneId))}}),Object(O.jsx)("img",{src:a.image,alt:a.name,className:"CartItemCard__image"}),Object(O.jsx)("p",{className:"CartItemCard__description",children:a.name})]}),Object(O.jsxs)("div",{className:"CartItemCard__right",children:[Object(O.jsxs)("div",{className:"CartItemCard__counter",children:[Object(O.jsx)("button",{type:"button",className:j()("CartItemCard__button CartItemCard__button--subtract",{"CartItemCard__button--subtract--disabled":s<=1}),onClick:()=>{c(z(a.phoneId))},disabled:s<=1}),Object(O.jsx)("p",{className:"CartItemCard__quantity",children:s}),Object(O.jsx)("button",{type:"button",className:"CartItemCard__button CartItemCard__button--add",onClick:()=>{c(Q(a.phoneId))}})]}),Object(O.jsx)("p",{className:"CartItemCard__price",children:"$".concat(a.price*s)})]})]})};c(60);const ve=e=>{let{cart:t}=e;const[c,s]=Object(l.useState)(!1);return Object(O.jsxs)("div",{className:"CartItemsList",children:[Object(O.jsx)("div",{className:"CartItemsList__items",children:t.map((e=>Object(O.jsx)(Ne,{cartItem:e},e.phoneId)))}),Object(O.jsxs)("div",{className:"CartItemsList__output",children:[Object(O.jsxs)("div",{className:"CartItemsList__info",children:[Object(O.jsx)("p",{className:"CartItemsList__price",children:"$".concat(_(t))}),Object(O.jsx)("p",{"data-cy":"productQauntity",className:"CartItemsList__amount",children:"Total for ".concat(m(t)," items")})]}),Object(O.jsx)("div",{className:"CartItemsList__divider"}),Object(O.jsx)("button",{type:"button",className:"CartItemsList__checkout",onClick:()=>{s(!0),setTimeout((()=>s(!1)),4e3)},children:"Checkout"}),c&&Object(O.jsx)("p",{className:"CartItemsList__not-implemented",children:"We are sorry, but this feature is not implemented yet"})]})]})},Pe=()=>{const{cart:e}=u((e=>e.cart));return Object(O.jsxs)("div",{className:"Page Page--gap--narrower Page--padding--top--wider",children:[Object(O.jsxs)("div",{className:"Page__top Page__top--gap--wider",children:[Object(O.jsx)(ge,{}),Object(O.jsx)("h1",{className:"Page__title",children:"Cart"})]}),e.length?Object(O.jsx)(ve,{cart:e}):Object(O.jsx)("p",{className:"Page__amount",children:"Your cart is empty"})]})},fe=e=>({black:"#303234",green:"#99eeae",yellow:"#fff190",white:"#fff",purple:"#e6e6fa",red:"#ff0038",spacegray:"#575757",gold:"#ffd5b3",midnightgreen:"#5e7266",silver:"#d8d8d8",coral:"#f56549",rosegold:"#ffd5cf"}[e]||"#000");c(61);const ye=e=>{let{productInfo:t}=e;const[c,s]=Object(l.useState)(""),[a,r]=Object(l.useState)(),{data:n}=D(),{id:o,namespaceId:d,images:b,colorsAvailable:u,capacity:m,color:_,capacityAvailable:h,screen:p,resolution:x,processor:g,ram:N,description:v,camera:P,zoom:f,cell:y}=t,C={screen:p,resolution:x,processor:g,ram:N},w={...C,"built in memory":m,camera:P,zoom:f,cell:y.join(", ")};Object(l.useEffect)((()=>{s(b[0])}),[t]),Object(l.useEffect)((()=>{n&&r(n.find((e=>e.phoneId===o)))}),[n,o]);return Object(O.jsxs)("div",{className:"ProductDetails",children:[Object(O.jsx)("p",{className:"ProductDetails__id",children:"ID: ".concat(null===a||void 0===a?void 0:a.id)}),Object(O.jsxs)("div",{className:"ProductDetails__content",children:[Object(O.jsx)("div",{className:"ProductDetails__images",children:b.map((e=>Object(O.jsx)("button",{type:"button",className:j()("ProductDetails__image-link",{"ProductDetails__image-link--active":c===e}),onClick:()=>{s(e)},children:Object(O.jsx)("img",{src:e,alt:e,className:"ProductDetails__image"})},e)))}),Object(O.jsxs)("div",{className:"ProductDetails__poster",children:[Object(O.jsx)("button",{type:"button",className:"ProductDetails__button ProductDetails__button--prev",onClick:()=>{c===b[0]?s(b[b.length-1]):s(b[b.indexOf(c)-1])}}),Object(O.jsx)("img",{src:c,alt:c,className:"ProductDetails__image ProductDetails__image--big"}),Object(O.jsx)("button",{type:"button",className:"ProductDetails__button",onClick:()=>{c===b[b.length-1]?s(b[0]):s(b[b.indexOf(c)+1])}}),Object(O.jsx)("div",{className:"ProductDetails__dots",children:b.map((e=>Object(O.jsx)("button",{type:"button",className:"ProductDetails__dot-link",onClick:()=>(e=>{s(e)})(e),children:Object(O.jsx)("div",{className:j()("ProductDetails__dot",{"ProductDetails__dot--active":e===c})})},e)))})]}),Object(O.jsxs)("div",{className:"ProductDetails__interactive",children:[Object(O.jsx)("h4",{className:"ProductDetails__small-title",children:"Avialable colors"}),Object(O.jsx)("div",{className:"ProductDetails__choose",children:u.map((e=>Object(O.jsx)(i.b,{to:"/product/".concat(d,"-").concat(m.toLowerCase(),"-").concat(e),className:j()("ProductDetails__color-link",{"ProductDetails__color-link--active":_===e}),children:Object(O.jsx)("div",{className:"ProductDetails__color",style:{backgroundColor:fe(e)}})},e)))}),Object(O.jsx)("div",{className:" ProductDetails__divider ProductDetails__divider--margin--small"}),Object(O.jsx)("h4",{className:"ProductDetails__small-title",children:"Select capacity"}),Object(O.jsx)("div",{className:"ProductDetails__choose",children:h.map((e=>Object(O.jsx)(i.b,{to:"/product/".concat(d,"-").concat(e.toLowerCase(),"-").concat(_),className:j()("ProductDetails__capacity",{"ProductDetails__capacity--active":m===e}),children:Object(O.jsx)("p",{children:e})},e)))}),Object(O.jsx)("div",{className:"ProductDetails__divider"}),a&&Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)("div",{className:"ProductDetails__prices",children:[F(a)&&Object(O.jsx)("p",{className:"ProductDetails__price",children:"$".concat(a.price)}),Object(O.jsx)("p",{className:j()("ProductDetails__price",{"ProductDetails__price--disc":F(a)}),children:"$".concat(a.fullPrice)})]}),Object(O.jsx)("div",{className:"ProductDetails__add",children:Object(O.jsx)(J,{product:a})})]}),Object(O.jsx)("div",{className:"ProductDetails__info",children:Object.entries(C).map((e=>{let[t,c]=e;return Object(O.jsxs)("div",{className:"ProductDetails__field",children:[Object(O.jsx)("p",{className:"ProductDetails__field-key",children:q(t)}),Object(O.jsx)("p",{className:"ProductDetails__field-value",children:c||"-"})]},t)}))})]}),Object(O.jsxs)("section",{"data-cy":"productDescription",className:"ProductDetails__about",children:[Object(O.jsx)("h2",{className:"ProductDetails__title",children:"About"}),Object(O.jsx)("div",{className:"ProductDetails__divider"}),Object(O.jsx)("div",{className:"ProductDetails__chapters",children:v.map((e=>Object(O.jsxs)("div",{className:"ProductDetails__chapter",children:[Object(O.jsx)("h3",{className:"ProductDetails__subheader",children:e.title}),e.text.map((e=>Object(O.jsx)("p",{className:"ProductDetails__description",children:e},e)))]},e.title)))})]}),Object(O.jsxs)("section",{className:"ProductDetails__specs",children:[Object(O.jsx)("h2",{className:"ProductDetails__title",children:"Tech specs"}),Object(O.jsx)("div",{className:"ProductDetails__divider"}),Object(O.jsx)("div",{className:" ProductDetails__info ProductDetails__info--text--bigger ",children:Object.entries(w).map((e=>{let[t,c]=e;return Object(O.jsxs)("div",{className:"ProductDetails__field",children:[Object(O.jsx)("p",{className:"ProductDetails__field-key",children:q(t)}),Object(O.jsx)("p",{className:"ProductDetails__field-value",children:c||"-"})]},t)}))})]})]})]})},Ce=()=>{const[e,t]=Object(l.useState)([]),{productId:c}=Object(o.r)(),{data:s,isLoading:a,isError:r}=S(c||""),{data:n,isLoading:i}=D();return Object(l.useEffect)((()=>{n&&c&&t(((e,t)=>{const c=e.filter((e=>e.phoneId!==t));return B()(c,8)})(n,c))}),[n,c]),Object(O.jsxs)("div",{className:"Page",children:[Object(O.jsx)(me,{}),Object(O.jsxs)("div",{className:"Page__top Page__top--gap--wider",children:[Object(O.jsx)(ge,{}),!r&&Object(O.jsx)("h1",{className:"Page__title",children:null===s||void 0===s?void 0:s.name})]}),r&&Object(O.jsx)(be,{categoryName:"Current product"}),!a&&!r&&s&&Object(O.jsx)(ye,{productInfo:s}),Object(O.jsxs)("section",{className:" Page__section Page__section--padding-top suggested ",children:[Object(O.jsx)("h1",{className:"Page__title Page__title--long",children:"You may also like"}),i?Object(O.jsx)(se,{}):Object(O.jsx)(K,{products:e})]})]})},we=()=>Object(O.jsx)("div",{className:"Page",children:Object(O.jsx)("h1",{className:"Page__title",children:"Page not found"})}),ke=()=>Object(O.jsx)(i.a,{children:Object(O.jsx)(o.d,{children:Object(O.jsxs)(o.b,{path:"/",element:Object(O.jsx)(C,{}),children:[Object(O.jsx)(o.b,{index:!0,element:Object(O.jsx)(ae,{})}),Object(O.jsx)(o.b,{path:"/phones",element:Object(O.jsx)(_e,{})}),Object(O.jsx)(o.b,{path:"/tablets",element:Object(O.jsx)(Oe,{})}),Object(O.jsx)(o.b,{path:"/accessories",element:Object(O.jsx)(he,{})}),Object(O.jsx)(o.b,{path:"/favorites",element:Object(O.jsx)(pe,{})}),Object(O.jsx)(o.b,{path:"/cart",element:Object(O.jsx)(Pe,{})}),Object(O.jsx)(o.b,{path:"/product/:productId",element:Object(O.jsx)(Ce,{})}),Object(O.jsx)(o.b,{path:"*",element:Object(O.jsx)(we,{})})]})})});var Ie=c(10),De=c(20),Se=c(27),Le=c.n(Se),Be=c(16);const Ae={key:"root",storage:Le.a,whitelist:["favorites","cart"]},Fe=Object(Ie.b)({favorites:W,cart:R,[I.reducerPath]:I.reducer}),Ee=Object(De.a)(Ae,Fe),qe=Object(H.b)({reducer:Ee,middleware:[Be.a,I.middleware]}),He=Object(De.b)(qe);Object(k.e)(qe.dispatch),a.a.render(Object(O.jsx)(r.a,{store:qe,children:Object(O.jsx)(n.a,{loading:null,persistor:He,children:Object(O.jsx)(ke,{})})}),document.getElementById("root"))}],[[64,1,2]]]);
//# sourceMappingURL=main.6fb1a195.chunk.js.map